/**
 * AI Framework Brand Colors - Custom Theme
 * Base: Monochrome Power (90%) + Azul Royal Minimalista (10% strategic accents)
 */

/* ===== SMOOTH SCROLLING UX ===== */
html {
  scroll-behavior: smooth;
}

/* Offset for fixed header when scrolling to anchors */
:target {
  scroll-margin-top: var(--header-height);
}

:root {
  /* ===== DESIGN TOKENS ===== */
  --header-height: 80px;
  --success-text: #1A7F37;

  /* ===== TIMING FUNCTIONS ===== */
  --ease-smooth: cubic-bezier(0.4, 0, 0.2, 1);
  --ease-elegant: cubic-bezier(0.25, 0.1, 0.25, 1); /* Subtle, refined motion */

  /* ===== STRATEGIC COLOR PALETTE (Slate Graphite - Sober Technical) ===== */
  --royal-blue: #0F172A;        /* Slate-900 - Primary accent (5-7%) */
  --lavender-blue: #475569;     /* Slate-600 - Secondary hover states (2-3%) */
  --mint-green: #DFF3E4;        /* Highlights - success, badges (<2%) */
  --deep-purple: #1E293B;       /* Slate-800 - Gradients, accents (<1%) */

  /* ===== RGB VALUES (for rgba() with opacity) ===== */
  --royal-blue-rgb: 15, 23, 42;
  --lavender-blue-rgb: 71, 85, 105;
  --deep-purple-rgb: 30, 41, 59;
  --success-rgb: 45, 164, 78;

  /* ===== BRAND COLORS (Monochrome Base - 90%) ===== */
  --vp-c-brand-1: #18181B;      /* Zinc-900 black */
  --vp-c-brand-2: #09090B;      /* Zinc-950 deeper */
  --vp-c-brand-3: #52525B;      /* Zinc-600 charcoal */
  --vp-c-brand-soft: #E4E4E7;

  /* ===== BACKGROUNDS (Light Mode) ===== */
  --vp-c-bg: #FFFFFF;
  --vp-c-bg-soft: #F6F8FA;
  --vp-c-bg-mute: #EAEEF2;
  --vp-c-bg-alt: #F6F8FA;

  /* ===== TEXT (Light Mode) ===== */
  --vp-c-text-1: #24292F;
  --vp-c-text-2: #57606A;
  --vp-c-text-3: #6E7781;

  /* ===== BORDERS (Light Mode) ===== */
  --vp-c-divider: #D0D7DE;
  --vp-c-border: #D0D7DE;

  /* ===== SEMANTIC COLORS (Enhanced with palette) ===== */
  --vp-c-success-1: #2DA44E;
  --vp-c-success-2: #1A7F37;
  --vp-c-success-soft: var(--mint-green);
  --vp-c-warning-1: #BF8700;
  --vp-c-warning-2: #9A6700;
  --vp-c-danger-1: #CF222E;
  --vp-c-danger-2: #A40E26;
}

/* Dark mode */
.dark {
  /* ===== STRATEGIC PALETTE (Dark Mode - Slate Graphite) ===== */
  --royal-blue: #CBD5E1;        /* Slate-300 - Lighter for dark bg accessibility */
  --lavender-blue: #94A3B8;     /* Slate-400 - Brighter for visibility */
  --mint-green: #C8E6D0;        /* Softened for dark mode */
  --deep-purple: #94A3B8;       /* Slate-400 - Consistent with lavender */

  /* ===== RGB VALUES (Dark Mode) ===== */
  --royal-blue-rgb: 203, 213, 225;
  --lavender-blue-rgb: 148, 163, 184;
  --deep-purple-rgb: 148, 163, 184;

  /* ===== BACKGROUNDS (Dark Mode) ===== */
  --vp-c-bg: #0D1117;
  --vp-c-bg-soft: #161B22;
  --vp-c-bg-mute: #21262D;
  --vp-c-bg-alt: #161B22;

  /* ===== TEXT (Dark Mode) ===== */
  --vp-c-text-1: #E6EDF3;
  --vp-c-text-2: #8D96A0;
  --vp-c-text-3: #6E7681;

  /* ===== BORDERS (Dark Mode) ===== */
  --vp-c-divider: #30363D;
  --vp-c-border: #30363D;

  /* ===== BRAND (Monochrome Base Dark Mode) ===== */
  --vp-c-brand-1: #FAFAFA;      /* Zinc-50 white */
  --vp-c-brand-2: #E4E4E7;      /* Zinc-200 lighter */
  --vp-c-brand-3: #A1A1AA;      /* Zinc-400 mid-gray */
  --vp-c-brand-soft: #27272A;
}

/* ===== PRIMARY BUTTONS - SLATE GRAPHITE SOBER (5-7% usage) ===== */
.VPButton.brand {
  background: var(--royal-blue);
  border: none;
  color: white;
  font-weight: 600;
  letter-spacing: 0.5px;
  transition: transform 0.25s var(--ease-elegant),
              box-shadow 0.25s var(--ease-smooth),
              background 0.2s ease;
  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
}

.VPButton.brand:hover {
  background: var(--deep-purple);
  transform: translateY(-1px);
  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.15);
}

.VPButton.brand:active {
  transform: translateY(0) scale(0.98);
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12);
  transition: all 0.12s var(--ease-smooth);
}

/* Dark mode button - darker for better contrast */
.dark .VPButton.brand {
  background: #475569; /* Slate-600 - better contrast on dark bg */
  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
}

.dark .VPButton.brand:hover {
  background: #334155; /* Slate-700 - darker on hover */
  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.4);
}

/* ===== LINK COLORS - STRATEGIC ACCENT (2-3% usage) ===== */
.vp-doc a {
  color: var(--vp-c-brand-1);
  text-decoration-color: var(--vp-c-brand-soft);
  transition: color 0.25s var(--ease-smooth);
}

.vp-doc a:hover {
  color: var(--lavender-blue);
  text-decoration-color: var(--lavender-blue);
}

/* Hero links with royal blue accent */
.VPHero a.VPButton.brand,
.VPHero a:not(.VPButton) {
  transition: color 0.25s var(--ease-smooth);
}

.VPHero a:not(.VPButton):hover {
  color: var(--royal-blue);
}

/* ===== HERO TITLE - SCANLINE DITHERING + GRADIENT ===== */
.VPHero .name,
.VPHero .text {
  position: relative;
  font-weight: 800;
  letter-spacing: -0.5px;
  /* Composite gradient + scanlines in single background */
  background:
    repeating-linear-gradient(
      0deg,
      transparent 0px,
      transparent 2px,
      rgba(0, 0, 0, 0.05) 2px,
      rgba(0, 0, 0, 0.05) 4px
    ),
    linear-gradient(120deg, #0F172A 0%, #475569 40%, #64748B 70%, var(--vp-c-brand-1) 100%);
  background-size: 100% 100%, 200% 200%;
  -webkit-background-clip: text;
  background-clip: text;
  -webkit-text-fill-color: transparent;
  /* Performance: only animate second background layer (gradient) */
  animation: gradient-shift 8s ease infinite;
  will-change: background-position;
  /* GPU acceleration */
  transform: translateZ(0);
  backface-visibility: hidden;
}

/* Animate only the gradient layer, not scanlines */
@keyframes gradient-shift {
  0%, 100% { background-position: 0% 50%, 0% 50%; }
  50% { background-position: 100% 50%, 100% 50%; }
}

/* Dark mode - lighter gradient + subtle white scanlines */
.dark .VPHero .name,
.dark .VPHero .text {
  background:
    repeating-linear-gradient(
      0deg,
      transparent 0px,
      transparent 2px,
      rgba(255, 255, 255, 0.04) 2px,
      rgba(255, 255, 255, 0.04) 4px
    ),
    linear-gradient(120deg, #94A3B8 0%, #CBD5E1 40%, #E2E8F0 70%, var(--vp-c-brand-1) 100%);
  background-size: 100% 100%, 200% 200%;
  -webkit-background-clip: text;
  background-clip: text;
  -webkit-text-fill-color: transparent;
  animation: gradient-shift 8s ease infinite;
}

/* ===== DARK MODE ICON FIX ===== */
/* Invert feature icons in dark mode for visibility */
.dark .VPFeature .box > .VPImage {
  filter: invert(1);
}

/* ===== SIDEBAR SMOOTH TRANSITIONS ===== */
.VPSidebar {
  transition: transform 0.3s ease-out, opacity 0.3s ease-out;
}

/* ===== FEATURE CARDS - ELEGANT ANIMATIONS (2-3% usage) ===== */
.VPFeature {
  position: relative;
  border: 1px solid transparent;
  /* Refined transitions - subtle elegance */
  transition: transform 0.3s var(--ease-elegant),
              box-shadow 0.3s var(--ease-smooth),
              border-color 0.3s ease;
}

/* Refined glow effect layer - very subtle */
.VPFeature::before {
  content: '';
  position: absolute;
  inset: -1px;
  background: linear-gradient(135deg,
    rgba(var(--lavender-blue-rgb), 0.06),
    rgba(var(--royal-blue-rgb), 0.03));
  border-radius: inherit;
  opacity: 0;
  z-index: -1;
  filter: blur(6px);
  transition: opacity 0.3s ease;
}

/* Icon scale animation - imperceptible refinement */
.VPFeature:hover .box .VPImage,
.VPFeature:hover .box img {
  transform: scale(1.03); /* Subtle 3% growth */
  transition: transform 0.3s var(--ease-elegant);
}

.VPFeature .box .VPImage,
.VPFeature .box img {
  transition: transform 0.3s var(--ease-smooth);
}

.VPFeature:hover {
  /* Micro-lift - elegant refinement (Notion/Linear style) */
  transform: translateY(-2px);
  /* Refined shadows - subtle depth perception */
  box-shadow: 0 6px 16px rgba(var(--lavender-blue-rgb), 0.1),
              0 3px 8px rgba(var(--royal-blue-rgb), 0.06),
              0 1px 3px rgba(var(--royal-blue-rgb), 0.04);
  border-color: rgba(var(--lavender-blue-rgb), 0.15);
}

.VPFeature:hover::before {
  opacity: 0.6; /* Subtle glow presence */
}

/* Dark mode - refined glow */
.dark .VPFeature::before {
  background: linear-gradient(135deg,
    rgba(var(--royal-blue-rgb), 0.08),
    rgba(var(--lavender-blue-rgb), 0.04));
  filter: blur(8px);
}

.dark .VPFeature:hover {
  box-shadow: 0 6px 16px rgba(var(--royal-blue-rgb), 0.15),
              0 3px 8px rgba(var(--royal-blue-rgb), 0.1),
              0 1px 3px rgba(var(--royal-blue-rgb), 0.06);
  border-color: rgba(var(--lavender-blue-rgb), 0.2);
}


/* ===== BADGES & HIGHLIGHTS - MINT GREEN ACCENT (<2% usage) ===== */
.vp-badge.tip,
.vp-badge.success {
  background-color: var(--mint-green);
  color: var(--success-text);
  border: 1px solid rgba(var(--success-rgb), 0.2);
  font-weight: 600;
  padding: 2px 8px;
  border-radius: 4px;
  transition: all 0.25s var(--ease-smooth);
}

.vp-badge.tip:hover,
.vp-badge.success:hover {
  background-color: #C8E6D0;
  box-shadow: 0 2px 6px rgba(var(--success-rgb), 0.15);
}

/* Code highlights for important callouts */
.vp-doc code {
  transition: background-color 0.25s var(--ease-smooth);
}

.vp-doc .tip code,
.vp-doc .success code {
  background-color: var(--mint-green);
  color: var(--success-text);
}

/* Secondary button variant with lavender */
.VPButton.alt {
  border-color: var(--lavender-blue);
  color: var(--lavender-blue);
  transition: all 0.3s var(--ease-smooth);
}

.VPButton.alt:hover {
  background-color: rgba(var(--lavender-blue-rgb), 0.08);
  border-color: var(--royal-blue);
  color: var(--royal-blue);
  transform: translateY(-1px);
}

/* Focus states with royal blue - subtle & accessible */
.vp-doc a:focus-visible,
.VPButton:focus-visible {
  outline: 2px solid var(--royal-blue);
  outline-offset: 2px;
  border-radius: 4px;
}

/* Search input - respect native VitePress focus styles */
.VPNavBarSearch input:focus-visible,
.VPLocalSearchBox input:focus-visible {
  outline: none; /* VitePress handles this beautifully */
}

/* Buttons and form controls - subtle accent */
button:focus-visible:not(.VPButton),
textarea:focus-visible {
  outline: 1px solid rgba(var(--royal-blue-rgb), 0.4);
  outline-offset: 1px;
}

/* Sidebar active link with lavender accent */
.VPSidebarItem.is-active .link {
  color: var(--royal-blue);
  font-weight: 600;
}

.VPSidebarItem.is-active .link:hover {
  color: var(--lavender-blue);
}

/* ===== VERSION BADGE - ENHANCED CONTRAST ===== */
.version-badge .version-link {
  color: var(--vp-c-text-1);
  font-weight: 600; /* Consistent weight for all modes */
  text-decoration: none; /* Remove underline */
  border-bottom: 1px solid transparent; /* Subtle hover effect */
  transition: color 0.25s ease, border-color 0.25s ease;
}

.version-badge .version-link:hover {
  color: var(--royal-blue);
  border-bottom-color: var(--royal-blue);
}

/* Dark mode - softer white instead of purple lavender */
.dark .version-badge .version-link {
  color: var(--vp-c-text-1); /* Use VitePress text-1 (soft white) instead of lavender */
}

.dark .version-badge .version-link:hover {
  color: var(--lavender-blue); /* Lavender only on hover */
  border-bottom-color: var(--lavender-blue);
}

.dark .version-badge .version-previous {
  opacity: 0.75;
  color: var(--vp-c-text-2);
}

/* ===== HOME PAGE LINKS - ENHANCED CONTRAST ===== */
/* "Ver todos los recursos" link on home */
.vp-doc h2 + p a,
.VPHome h2 + p a {
  color: var(--vp-c-text-1);
  font-weight: 500; /* Consistent weight for all modes */
  text-decoration: none; /* Remove underline */
  border-bottom: 1px solid transparent; /* Subtle hover effect */
  transition: color 0.25s ease, border-color 0.25s ease;
}

.vp-doc h2 + p a:hover,
.VPHome h2 + p a:hover {
  color: var(--royal-blue);
  border-bottom-color: var(--royal-blue);
}

/* Dark mode - softer white instead of purple lavender */
.dark .vp-doc h2 + p a,
.dark .VPHome h2 + p a {
  color: var(--vp-c-text-1); /* Use VitePress text-1 (soft white) instead of lavender */
}

.dark .vp-doc h2 + p a:hover,
.dark .VPHome h2 + p a:hover {
  color: var(--lavender-blue); /* Lavender only on hover */
  border-bottom-color: var(--lavender-blue);
}

/* ===== HERO CASCADE â€” mask reveal + per-word reveal ===== */
.VPHero .text.hero-text-reveal {
  -webkit-mask-image: linear-gradient(90deg, #000 40%, transparent 60%);
  mask-image: linear-gradient(90deg, #000 40%, transparent 60%);
  -webkit-mask-size: 250% 100%;
  mask-size: 250% 100%;
  -webkit-mask-position: 100% 0;
  mask-position: 100% 0;
  animation: hero-mask-sweep 1.2s cubic-bezier(0.25, 0.1, 0.25, 1) forwards,
             gradient-shift 8s ease infinite;
}

@keyframes hero-mask-sweep {
  to {
    -webkit-mask-position: 0% 0;
    mask-position: 0% 0;
  }
}

.hero-word {
  display: inline-block;
  opacity: 0;
  filter: blur(3px);
  transform: translateY(6px);
  animation: hero-word-in 0.45s cubic-bezier(0.25, 0.1, 0.25, 1) forwards;
}

@keyframes hero-word-in {
  to {
    opacity: 1;
    filter: blur(0);
    transform: translateY(0);
  }
}

/* ===== ACCESSIBILITY ===== */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    transition-duration: 0.01ms !important;
  }

  .VPHero .name,
  .VPHero .text {
    animation: none;
  }

  .VPHero .text.hero-text-reveal {
    -webkit-mask-image: none !important;
    mask-image: none !important;
    animation: gradient-shift 8s ease infinite !important;
  }

  .hero-word {
    opacity: 1 !important;
    filter: none !important;
    transform: none !important;
    animation: none !important;
  }
}
